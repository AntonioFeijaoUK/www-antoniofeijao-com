
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Antonio Feijao UK, Cyber Security Architect @GenomicsEngland. Expertise and skills in AWS, Networking, Security, Infrastructure, CyberSecurity, Linux, MacOS, Python">
      
      
        <meta name="author" content="Antonio Feijao UK">
      
      
        <link rel="canonical" href="https://www.antoniofeijao.com/category/aws/page/2/">
      
      
        <link rel="prev" href="../../../authentication/">
      
      
        <link rel="next" href="../../../beautifulsoup4/">
      
      
      <link rel="icon" href="/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>aws - Antonio Feijao UK, Cyber Security Architect, learning by doing.</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="aws - Antonio Feijao UK, Cyber Security Architect, learning by doing." >
      
        <meta  property="og:description"  content="Antonio Feijao UK, Cyber Security Architect @GenomicsEngland. Expertise and skills in AWS, Networking, Security, Infrastructure, CyberSecurity, Linux, MacOS, Python" >
      
        <meta  property="og:image"  content="https://www.antoniofeijao.com/assets/images/social/category/aws/page/2.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://www.antoniofeijao.com/category/aws/page/2/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="aws - Antonio Feijao UK, Cyber Security Architect, learning by doing." >
      
        <meta  name="twitter:description"  content="Antonio Feijao UK, Cyber Security Architect @GenomicsEngland. Expertise and skills in AWS, Networking, Security, Infrastructure, CyberSecurity, Linux, MacOS, Python" >
      
        <meta  name="twitter:image"  content="https://www.antoniofeijao.com/assets/images/social/category/aws/page/2.png" >
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#aws" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Antonio Feijao UK, Cyber Security Architect, learning by doing." class="md-header__button md-logo" aria-label="Antonio Feijao UK, Cyber Security Architect, learning by doing." data-md-component="logo">
      
  <img src="../../../../assets/images/Antonio-Feijao-UK.jpeg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Antonio Feijao UK, Cyber Security Architect, learning by doing.
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              aws
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../about-me-by-ChatGPT/" class="md-tabs__link">
        
  
    
  
  about-me-by-ChatGPT

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../about-me/" class="md-tabs__link">
        
  
    
  
  about-me

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../pages/background/" class="md-tabs__link">
          
  
    
  
  Pages

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../archive/2024/" class="md-tabs__link">
          
  
    
  
  Archive

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../aws-organizations/" class="md-tabs__link">
          
  
    
  
  Categories

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Antonio Feijao UK, Cyber Security Architect, learning by doing." class="md-nav__button md-logo" aria-label="Antonio Feijao UK, Cyber Security Architect, learning by doing." data-md-component="logo">
      
  <img src="../../../../assets/images/Antonio-Feijao-UK.jpeg" alt="logo">

    </a>
    Antonio Feijao UK, Cyber Security Architect, learning by doing.
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about-me-by-ChatGPT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    about-me-by-ChatGPT
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about-me/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    about-me
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Pages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/background/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sample background
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/certifications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Antonio Feijao AWS Linux and Cyber Security certifications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/computer-science-and-more-degree/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    High-Impact Curriculum for a Computer Science Degree, Machine Learning, Cybersecurity, IoT, Quantum and much more
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to contact Antonio Feijao UK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/cyber-security-topics-of-interest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cyber Security and topics of interest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/doms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Javascript demo for Doms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/experience/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Work experience Antonio Feijao AWS Linux and Cyber Security certifications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/feedback/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feedback on Antonio Feijao AWS Linux and Cyber Security work
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/list-of-links-cyber-security-updates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    List of links and websites with updates on Cyber Security and Computer Science Knowledge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/nist-cyberframework-topics-reminders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reminder of NIST framework topcs - Identify, Protect, Detect, Respond, Recover
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Privacy plugins sample and javascript helpers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/quotes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    quotes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/skills/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Antonio Feijao AWS Linux and Cyber Security certifications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/study-aws-certified-security-specialty-exam-guide-and-study-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Certified Security Specialty exam guide and study notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/study-ethical-hacker-and-cyber-security-study-and-notes-on-osint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethical Hacker and Cyber Security study notes on OSINT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/study-links/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Webpage with links to study material and other websites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pages/training-links/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    training
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../archive/2024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../archive/2023/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../archive/2022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2022
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../archive/2021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../archive/2020/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2020
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../archive/2019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../archive/2018/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2018
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Categories
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../aws-organizations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Organizations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../apple/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Apple
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../bash/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bash
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../blackhat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BlackHat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../coding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../containers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Containers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../databases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Databases
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../domains/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Domains
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../electronics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Electronics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../finance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Finance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../gatewayloadbalancer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GatewayLoadBalancer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../google/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Google
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../hacking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hacking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../javascript/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Javascript
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../lambda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lambda
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../learning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Learning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../lime/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LiME
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../math/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Math
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../migration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../multimedia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multimedia
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../organizations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Organizations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../page/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Page
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../projects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../proxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Proxy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../puzzles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Puzzles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../python-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python-3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../python3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../raspberry-pi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Raspberry-Pi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../raspberrypi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RaspberryPi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../route53/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Route53
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../rubik-cube/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rubik-cube
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    S3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../sns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SNS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../ssh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SSH
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../ssm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SSM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../science/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Science
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../script/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Script
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../security-hub/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security-Hub
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Services
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../session/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Session
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../training/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Training
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../tunnel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tunnel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../webpage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Webpage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../websites/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Websites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../wifi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wifi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../allregions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    allregions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../authentication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    authentication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
      
    
  
  
    <li class="md-nav__item">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="../../" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    aws
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../beautifulsoup4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    beautifulsoup4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../boto3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    boto3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../chatgpt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chatgpt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cli
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../cookie/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cookie
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../crowdstrike/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    crowdstrike
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../cybersecurity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cybersecurity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../decode-authorization-message/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    decode-authorization-message
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../defaulvpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    defaulvpc
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../describe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    describe
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../dns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../dnsmasq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dnsmasq
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../ec2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ec2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../education/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    education
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../first-commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    first-commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../forensics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    forensics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../incident-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    incident-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../jq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jq
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../knowledge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    knowledge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../library-of-alexandria/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    library-of-alexandria
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    linux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../macos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    macos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../markdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    markdown
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../memory-dump/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    memory-dump
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../monitor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    monitor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../networking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    networking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../prompts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    prompts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../routing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    routing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../sts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../subnets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    subnets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../threat-intelligence/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    threat-intelligence
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../vpcs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vpcs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../webscraping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webscraping
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../workshops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    workshops
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="aws">aws<a class="headerlink" href="#aws" title="Permanent link">&para;</a></h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2022-10-26 00:00:00">Wednesday, October 26, 2022</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../" class="md-meta__link">aws</a>, 
              <a href="../../../boto3/" class="md-meta__link">boto3</a>, 
              <a href="../../../organizations/" class="md-meta__link">Organizations</a></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="aws-organisation-get-only-the-account-name-from-the-account-id"><a class="toclink" href="../../../../aws/boto3/organizations/aws-organisation-get-only-the-account-name-from-the-account-id/">AWS Organisation get only the account name from the account id</a></h2>
<p>AWS Organisation get only the account name from the account id</p>
<p><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">boto3</span>

<span class="n">organizations</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;organizations&#39;</span><span class="p">)</span>

<span class="n">organizations</span><span class="o">.</span><span class="n">describe_account</span><span class="p">(</span><span class="n">AccountId</span><span class="o">=</span><span class="s1">&#39;123456789012&#39;</span><span class="p">)</span>

<span class="n">account_name</span> <span class="o">=</span> <span class="n">organizations</span><span class="o">.</span><span class="n">describe_account</span><span class="p">(</span><span class="n">AccountId</span><span class="o">=</span><span class="s1">&#39;123456789012&#39;</span><span class="p">)[</span><span class="s1">&#39;Account&#39;</span><span class="p">][</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">account_name</span><span class="p">)</span>
</code></pre></div>
source: <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/organizations.html#Organizations.Client.describe_account">https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/organizations.html#Organizations.Client.describe_account</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2022-06-30 00:00:00">Thursday, June 30, 2022</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../" class="md-meta__link">aws</a>, 
              <a href="../../../s3/" class="md-meta__link">S3</a>, 
              <a href="../../../lambda/" class="md-meta__link">Lambda</a>, 
              <a href="../../../sns/" class="md-meta__link">SNS</a></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="aws-s3-putobject-automatically-creates-a-s3-presigned-url-and-emails-the-link-via-sns-topic"><a class="toclink" href="../../../../aws/s3/lambda/aws-s3-putobject-automatically-creates-a-s3-presigned-url-and-emails-the-link-via-sns-topic/">AWS S3 PutObject automatically creates a S3 Presigned URl and emails the link via SNS topic</a></h2>
<p>Sample lambda functions that run based on <code>S3 event trigger</code> on <code>s3:ObjectCreated</code>.</p>
<p><strong>UPDATE</strong></p>
<p>Upload objects greater than 16MB+ requires the additional event trigger of <code>s3:ObjectCreated:CompleteMultipartUpload</code>.</p>
<blockquote>
<p>Kudus for AWS Support for helping me with the troubleshoot.</p>
</blockquote>
<p>1) SNS topic with email, txt, ... subscribers.</p>
<p>2) Create S3 event trigger with the lambda funtion as a target</p>
<p><img alt="s3-object-created-trigger-lambda-and-sns-notification" src="/assets/images/s3-object-created-trigger-lambda-and-sns-notification.jpg" title="s3-object-created-trigger-lambda-and-sns-notification" /></p>
<p>S3 events for:</p>
<ul>
<li>
<p><code>s3:ObjectCreated:Put</code></p>
</li>
<li>
<p><code>s3:ObjectCreated:CompleteMultipartUpload</code></p>
</li>
</ul>
<p>3) Target a lambda functions to run below logic</p>
<p><img alt="lambda sample code for s3 presign url" src="/assets/images/lambda-sample-code-s3presign-url-and-sns.jpg" /></p>
<ul>
<li>DISCLAIMER &gt;&gt; <code>Use at your own responsability.</code> &lt;&lt; </li>
</ul>
<h3 id="sample-lambda-code"><a class="toclink" href="../../../../aws/s3/lambda/aws-s3-putobject-automatically-creates-a-s3-presigned-url-and-emails-the-link-via-sns-topic/#sample-lambda-code">Sample Lambda code</a></h3>
<script src="https://gist.github.com/AntonioFeijaoUK/c1c9649d8ce49927aa0a4454262a607f.js"></script>

<hr />
<h3 id="update-and-other-details"><a class="toclink" href="../../../../aws/s3/lambda/aws-s3-putobject-automatically-creates-a-s3-presigned-url-and-emails-the-link-via-sns-topic/#update-and-other-details">UPDATE and other details</a></h3>
<p>Upload objects greater than 16MB+ requires the additional event trigger of <code>s3:ObjectCreated:CompleteMultipartUpload</code>.</p>
<blockquote>
<p>Kudus for AWS Support for helping me with the troubleshoot.</p>
</blockquote>
<p>S3 events trigger for:</p>
<ul>
<li>
<p><code>s3:ObjectCreated:Put</code></p>
</li>
<li>
<p><code>s3:ObjectCreated:CompleteMultipartUpload</code></p>
</li>
</ul>
<p>Objects greater than <code>16MB</code> are getting uploaded as a <code>Multipart</code> uploads. </p>
<blockquote>
<p>Multipart upload allows us to upload a single object as a set of parts.
Each part is a contiguous portion of the object's data.</p>
</blockquote>
<p>S3 bucket event <code>s3:ObjectCreated:Put</code> provides notification when an object is created by an HTTP PUT operation.</p>
<p>S3 bucket event <code>s3:ObjectCreated:CompleteMultipartUpload</code> provides notification for an object which was created by the completion of a <code>S3 multi-part upload</code>.</p>
<p>Documentation</p>
<ul>
<li>
<p><code>Multipart</code> upload - <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/mpuoverview.html">https://docs.aws.amazon.com/AmazonS3/latest/userguide/mpuoverview.html</a></p>
</li>
<li>
<p><a href="https://aws.amazon.com/blogs/aws/s3-event-notification/">https://aws.amazon.com/blogs/aws/s3-event-notification/</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/enable-event-notifications.html">https://docs.aws.amazon.com/AmazonS3/latest/userguide/enable-event-notifications.html</a></p>
</li>
</ul>
<p>Happy learning</p>
<p>Antonio Feijao</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2022-03-24 00:00:00">Thursday, March 24, 2022</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../" class="md-meta__link">aws</a>, 
              <a href="../../../security-hub/" class="md-meta__link">Security-Hub</a>, 
              <a href="../../../python3/" class="md-meta__link">Python3</a>, 
              <a href="../../../boto3/" class="md-meta__link">boto3</a></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="aws-security-hub-work-in-python-3-and-boto3"><a class="toclink" href="../../../../aws/security-hub/python3/aws-security-hub-work-in-python-3-and-boto3/">AWS Security Hub work in Python 3 and Boto3</a></h2>
<p>Testing some commands with python3 and boto3</p>
<h3 id="list-of-aws-services-from-boto3-clients"><a class="toclink" href="../../../../aws/security-hub/python3/aws-security-hub-work-in-python-3-and-boto3/#list-of-aws-services-from-boto3-clients">List of AWS Services from Boto3 clients</a></h3>
<p>The below error message, shows very usefull information. I can see all the boto3.client's name that I can use.</p>
<p>Does anyone knows how to get the list without using the error?</p>
<p>Input</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">boto3</span>

<span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="nb">dir</span><span class="p">)</span>
</code></pre></div>
<p>output (tweaked to show the services names in a multi line list)</p>
<div class="highlight"><pre><span></span><code><span class="n">UnknownServiceError</span><span class="p">:</span> <span class="n">Unknown</span> <span class="n">service</span><span class="p">:</span> <span class="s1">&#39;&lt;built-in function dir&gt;&#39;</span><span class="o">.</span>

<span class="n">Valid</span> <span class="n">service</span> <span class="n">names</span> <span class="n">are</span><span class="p">:</span>

<span class="n">accessanalyzer</span><span class="p">,</span>
<span class="n">account</span><span class="p">,</span>
<span class="n">acm</span><span class="p">,</span>
<span class="n">acm</span><span class="o">-</span><span class="n">pca</span><span class="p">,</span>
<span class="n">alexaforbusiness</span><span class="p">,</span>
<span class="n">amp</span><span class="p">,</span>
<span class="n">amplify</span><span class="p">,</span>
<span class="n">amplifybackend</span><span class="p">,</span>
<span class="n">amplifyuibuilder</span><span class="p">,</span>
<span class="n">apigateway</span><span class="p">,</span>
<span class="n">apigatewaymanagementapi</span><span class="p">,</span>
<span class="n">apigatewayv2</span><span class="p">,</span>
<span class="n">appconfig</span><span class="p">,</span>
<span class="n">appconfigdata</span><span class="p">,</span>
<span class="n">appflow</span><span class="p">,</span>
<span class="n">appintegrations</span><span class="p">,</span>
<span class="n">application</span><span class="o">-</span><span class="n">autoscaling</span><span class="p">,</span>
<span class="n">application</span><span class="o">-</span><span class="n">insights</span><span class="p">,</span>
<span class="n">applicationcostprofiler</span><span class="p">,</span>
<span class="n">appmesh</span><span class="p">,</span>
<span class="n">apprunner</span><span class="p">,</span>
<span class="n">appstream</span><span class="p">,</span>
<span class="n">appsync</span><span class="p">,</span>
<span class="n">athena</span><span class="p">,</span>
<span class="n">auditmanager</span><span class="p">,</span>
<span class="n">autoscaling</span><span class="p">,</span>
<span class="n">autoscaling</span><span class="o">-</span><span class="n">plans</span><span class="p">,</span>
<span class="n">backup</span><span class="p">,</span>
<span class="n">backup</span><span class="o">-</span><span class="n">gateway</span><span class="p">,</span>
<span class="n">batch</span><span class="p">,</span>
<span class="n">braket</span><span class="p">,</span>
<span class="n">budgets</span><span class="p">,</span>
<span class="n">ce</span><span class="p">,</span>
<span class="n">chime</span><span class="p">,</span>
<span class="n">chime</span><span class="o">-</span><span class="n">sdk</span><span class="o">-</span><span class="n">identity</span><span class="p">,</span>
<span class="n">chime</span><span class="o">-</span><span class="n">sdk</span><span class="o">-</span><span class="n">meetings</span><span class="p">,</span>
<span class="n">chime</span><span class="o">-</span><span class="n">sdk</span><span class="o">-</span><span class="n">messaging</span><span class="p">,</span>
<span class="n">cloud9</span><span class="p">,</span>
<span class="n">cloudcontrol</span><span class="p">,</span>
<span class="n">clouddirectory</span><span class="p">,</span>
<span class="n">cloudformation</span><span class="p">,</span>
<span class="n">cloudfront</span><span class="p">,</span>
<span class="n">cloudhsm</span><span class="p">,</span>
<span class="n">cloudhsmv2</span><span class="p">,</span>
<span class="n">cloudsearch</span><span class="p">,</span>
<span class="n">cloudsearchdomain</span><span class="p">,</span>
<span class="n">cloudtrail</span><span class="p">,</span>
<span class="n">cloudwatch</span><span class="p">,</span>
<span class="n">codeartifact</span><span class="p">,</span>
<span class="n">codebuild</span><span class="p">,</span>
<span class="n">codecommit</span><span class="p">,</span>
<span class="n">codedeploy</span><span class="p">,</span>
<span class="n">codeguru</span><span class="o">-</span><span class="n">reviewer</span><span class="p">,</span>
<span class="n">codeguruprofiler</span><span class="p">,</span>
<span class="n">codepipeline</span><span class="p">,</span>
<span class="n">codestar</span><span class="p">,</span>
<span class="n">codestar</span><span class="o">-</span><span class="n">connections</span><span class="p">,</span>
<span class="n">codestar</span><span class="o">-</span><span class="n">notifications</span><span class="p">,</span>
<span class="n">cognito</span><span class="o">-</span><span class="n">identity</span><span class="p">,</span>
<span class="n">cognito</span><span class="o">-</span><span class="n">idp</span><span class="p">,</span>
<span class="n">cognito</span><span class="o">-</span><span class="n">sync</span><span class="p">,</span>
<span class="n">comprehend</span><span class="p">,</span>
<span class="n">comprehendmedical</span><span class="p">,</span>
<span class="n">compute</span><span class="o">-</span><span class="n">optimizer</span><span class="p">,</span>
<span class="n">config</span><span class="p">,</span>
<span class="n">connect</span><span class="p">,</span>
<span class="n">connect</span><span class="o">-</span><span class="n">contact</span><span class="o">-</span><span class="n">lens</span><span class="p">,</span>
<span class="n">connectparticipant</span><span class="p">,</span>
<span class="n">cur</span><span class="p">,</span>
<span class="n">customer</span><span class="o">-</span><span class="n">profiles</span><span class="p">,</span>
<span class="n">databrew</span><span class="p">,</span>
<span class="n">dataexchange</span><span class="p">,</span>
<span class="n">datapipeline</span><span class="p">,</span>
<span class="n">datasync</span><span class="p">,</span>
<span class="n">dax</span><span class="p">,</span>
<span class="n">detective</span><span class="p">,</span>
<span class="n">devicefarm</span><span class="p">,</span>
<span class="n">devops</span><span class="o">-</span><span class="n">guru</span><span class="p">,</span>
<span class="n">directconnect</span><span class="p">,</span>
<span class="n">discovery</span><span class="p">,</span>
<span class="n">dlm</span><span class="p">,</span>
<span class="n">dms</span><span class="p">,</span>
<span class="n">docdb</span><span class="p">,</span>
<span class="n">drs</span><span class="p">,</span>
<span class="n">ds</span><span class="p">,</span>
<span class="n">dynamodb</span><span class="p">,</span>
<span class="n">dynamodbstreams</span><span class="p">,</span>
<span class="n">ebs</span><span class="p">,</span>
<span class="n">ec2</span><span class="p">,</span>
<span class="n">ec2</span><span class="o">-</span><span class="n">instance</span><span class="o">-</span><span class="n">connect</span><span class="p">,</span>
<span class="n">ecr</span><span class="p">,</span>
<span class="n">ecr</span><span class="o">-</span><span class="n">public</span><span class="p">,</span>
<span class="n">ecs</span><span class="p">,</span>
<span class="n">efs</span><span class="p">,</span>
<span class="n">eks</span><span class="p">,</span>
<span class="n">elastic</span><span class="o">-</span><span class="n">inference</span><span class="p">,</span>
<span class="n">elasticache</span><span class="p">,</span>
<span class="n">elasticbeanstalk</span><span class="p">,</span>
<span class="n">elastictranscoder</span><span class="p">,</span>
<span class="n">elb</span><span class="p">,</span>
<span class="n">elbv2</span><span class="p">,</span>
<span class="n">emr</span><span class="p">,</span>
<span class="n">emr</span><span class="o">-</span><span class="n">containers</span><span class="p">,</span>
<span class="n">es</span><span class="p">,</span>
<span class="n">events</span><span class="p">,</span>
<span class="n">evidently</span><span class="p">,</span>
<span class="n">finspace</span><span class="p">,</span>
<span class="n">finspace</span><span class="o">-</span><span class="n">data</span><span class="p">,</span>
<span class="n">firehose</span><span class="p">,</span>
<span class="n">fis</span><span class="p">,</span>
<span class="n">fms</span><span class="p">,</span>
<span class="n">forecast</span><span class="p">,</span>
<span class="n">forecastquery</span><span class="p">,</span>
<span class="n">frauddetector</span><span class="p">,</span>
<span class="n">fsx</span><span class="p">,</span>
<span class="n">gamelift</span><span class="p">,</span>
<span class="n">glacier</span><span class="p">,</span>
<span class="n">globalaccelerator</span><span class="p">,</span>
<span class="n">glue</span><span class="p">,</span>
<span class="n">grafana</span><span class="p">,</span>
<span class="n">greengrass</span><span class="p">,</span>
<span class="n">greengrassv2</span><span class="p">,</span>
<span class="n">groundstation</span><span class="p">,</span>
<span class="n">guardduty</span><span class="p">,</span>
<span class="n">health</span><span class="p">,</span>
<span class="n">healthlake</span><span class="p">,</span>
<span class="n">honeycode</span><span class="p">,</span>
<span class="n">iam</span><span class="p">,</span>
<span class="n">identitystore</span><span class="p">,</span>
<span class="n">imagebuilder</span><span class="p">,</span>
<span class="n">importexport</span><span class="p">,</span>
<span class="n">inspector</span><span class="p">,</span>
<span class="n">inspector2</span><span class="p">,</span>
<span class="n">iot</span><span class="p">,</span>
<span class="n">iot</span><span class="o">-</span><span class="n">data</span><span class="p">,</span>
<span class="n">iot</span><span class="o">-</span><span class="n">jobs</span><span class="o">-</span><span class="n">data</span><span class="p">,</span>
<span class="n">iot1click</span><span class="o">-</span><span class="n">devices</span><span class="p">,</span>
<span class="n">iot1click</span><span class="o">-</span><span class="n">projects</span><span class="p">,</span>
<span class="n">iotanalytics</span><span class="p">,</span>
<span class="n">iotdeviceadvisor</span><span class="p">,</span>
<span class="n">iotevents</span><span class="p">,</span>
<span class="n">iotevents</span><span class="o">-</span><span class="n">data</span><span class="p">,</span>
<span class="n">iotfleethub</span><span class="p">,</span>
<span class="n">iotsecuretunneling</span><span class="p">,</span>
<span class="n">iotsitewise</span><span class="p">,</span>
<span class="n">iotthingsgraph</span><span class="p">,</span>
<span class="n">iottwinmaker</span><span class="p">,</span>
<span class="n">iotwireless</span><span class="p">,</span>
<span class="n">ivs</span><span class="p">,</span>
<span class="n">kafka</span><span class="p">,</span>
<span class="n">kafkaconnect</span><span class="p">,</span>
<span class="n">kendra</span><span class="p">,</span>
<span class="n">kinesis</span><span class="p">,</span>
<span class="n">kinesis</span><span class="o">-</span><span class="n">video</span><span class="o">-</span><span class="n">archived</span><span class="o">-</span><span class="n">media</span><span class="p">,</span>
<span class="n">kinesis</span><span class="o">-</span><span class="n">video</span><span class="o">-</span><span class="n">media</span><span class="p">,</span>
<span class="n">kinesis</span><span class="o">-</span><span class="n">video</span><span class="o">-</span><span class="n">signaling</span><span class="p">,</span>
<span class="n">kinesisanalytics</span><span class="p">,</span>
<span class="n">kinesisanalyticsv2</span><span class="p">,</span>
<span class="n">kinesisvideo</span><span class="p">,</span>
<span class="n">kms</span><span class="p">,</span>
<span class="n">lakeformation</span><span class="p">,</span>
<span class="k">lambda</span><span class="p">,</span>
<span class="n">lex</span><span class="o">-</span><span class="n">models</span><span class="p">,</span>
<span class="n">lex</span><span class="o">-</span><span class="n">runtime</span><span class="p">,</span>
<span class="n">lexv2</span><span class="o">-</span><span class="n">models</span><span class="p">,</span>
<span class="n">lexv2</span><span class="o">-</span><span class="n">runtime</span><span class="p">,</span>
<span class="n">license</span><span class="o">-</span><span class="n">manager</span><span class="p">,</span>
<span class="n">lightsail</span><span class="p">,</span>
<span class="n">location</span><span class="p">,</span>
<span class="n">logs</span><span class="p">,</span>
<span class="n">lookoutequipment</span><span class="p">,</span>
<span class="n">lookoutmetrics</span><span class="p">,</span>
<span class="n">lookoutvision</span><span class="p">,</span>
<span class="n">machinelearning</span><span class="p">,</span>
<span class="n">macie</span><span class="p">,</span>
<span class="n">macie2</span><span class="p">,</span>
<span class="n">managedblockchain</span><span class="p">,</span>
<span class="n">marketplace</span><span class="o">-</span><span class="n">catalog</span><span class="p">,</span>
<span class="n">marketplace</span><span class="o">-</span><span class="n">entitlement</span><span class="p">,</span>
<span class="n">marketplacecommerceanalytics</span><span class="p">,</span>
<span class="n">mediaconnect</span><span class="p">,</span>
<span class="n">mediaconvert</span><span class="p">,</span>
<span class="n">medialive</span><span class="p">,</span>
<span class="n">mediapackage</span><span class="p">,</span>
<span class="n">mediapackage</span><span class="o">-</span><span class="n">vod</span><span class="p">,</span>
<span class="n">mediastore</span><span class="p">,</span>
<span class="n">mediastore</span><span class="o">-</span><span class="n">data</span><span class="p">,</span>
<span class="n">mediatailor</span><span class="p">,</span>
<span class="n">memorydb</span><span class="p">,</span>
<span class="n">meteringmarketplace</span><span class="p">,</span>
<span class="n">mgh</span><span class="p">,</span>
<span class="n">mgn</span><span class="p">,</span>
<span class="n">migration</span><span class="o">-</span><span class="n">hub</span><span class="o">-</span><span class="n">refactor</span><span class="o">-</span><span class="n">spaces</span><span class="p">,</span>
<span class="n">migrationhub</span><span class="o">-</span><span class="n">config</span><span class="p">,</span>
<span class="n">migrationhubstrategy</span><span class="p">,</span>
<span class="n">mobile</span><span class="p">,</span>
<span class="n">mq</span><span class="p">,</span>
<span class="n">mturk</span><span class="p">,</span>
<span class="n">mwaa</span><span class="p">,</span>
<span class="n">neptune</span><span class="p">,</span>
<span class="n">network</span><span class="o">-</span><span class="n">firewall</span><span class="p">,</span>
<span class="n">networkmanager</span><span class="p">,</span>
<span class="n">nimble</span><span class="p">,</span>
<span class="n">opensearch</span><span class="p">,</span>
<span class="n">opsworks</span><span class="p">,</span>
<span class="n">opsworkscm</span><span class="p">,</span>
<span class="n">organizations</span><span class="p">,</span>
<span class="n">outposts</span><span class="p">,</span>
<span class="n">panorama</span><span class="p">,</span>
<span class="n">personalize</span><span class="p">,</span>
<span class="n">personalize</span><span class="o">-</span><span class="n">events</span><span class="p">,</span>
<span class="n">personalize</span><span class="o">-</span><span class="n">runtime</span><span class="p">,</span>
<span class="n">pi</span><span class="p">,</span>
<span class="n">pinpoint</span><span class="p">,</span>
<span class="n">pinpoint</span><span class="o">-</span><span class="n">email</span><span class="p">,</span>
<span class="n">pinpoint</span><span class="o">-</span><span class="n">sms</span><span class="o">-</span><span class="n">voice</span><span class="p">,</span>
<span class="n">polly</span><span class="p">,</span>
<span class="n">pricing</span><span class="p">,</span>
<span class="n">proton</span><span class="p">,</span>
<span class="n">qldb</span><span class="p">,</span>
<span class="n">qldb</span><span class="o">-</span><span class="n">session</span><span class="p">,</span>
<span class="n">quicksight</span><span class="p">,</span>
<span class="n">ram</span><span class="p">,</span>
<span class="n">rbin</span><span class="p">,</span>
<span class="n">rds</span><span class="p">,</span>
<span class="n">rds</span><span class="o">-</span><span class="n">data</span><span class="p">,</span>
<span class="n">redshift</span><span class="p">,</span>
<span class="n">redshift</span><span class="o">-</span><span class="n">data</span><span class="p">,</span>
<span class="n">rekognition</span><span class="p">,</span>
<span class="n">resiliencehub</span><span class="p">,</span>
<span class="n">resource</span><span class="o">-</span><span class="n">groups</span><span class="p">,</span>
<span class="n">resourcegroupstaggingapi</span><span class="p">,</span>
<span class="n">robomaker</span><span class="p">,</span>
<span class="n">route53</span><span class="p">,</span>
<span class="n">route53</span><span class="o">-</span><span class="n">recovery</span><span class="o">-</span><span class="n">cluster</span><span class="p">,</span>
<span class="n">route53</span><span class="o">-</span><span class="n">recovery</span><span class="o">-</span><span class="n">control</span><span class="o">-</span><span class="n">config</span><span class="p">,</span>
<span class="n">route53</span><span class="o">-</span><span class="n">recovery</span><span class="o">-</span><span class="n">readiness</span><span class="p">,</span>
<span class="n">route53domains</span><span class="p">,</span>
<span class="n">route53resolver</span><span class="p">,</span>
<span class="n">rum</span><span class="p">,</span>
<span class="n">s3</span><span class="p">,</span>
<span class="n">s3control</span><span class="p">,</span>
<span class="n">s3outposts</span><span class="p">,</span>
<span class="n">sagemaker</span><span class="p">,</span>
<span class="n">sagemaker</span><span class="o">-</span><span class="n">a2i</span><span class="o">-</span><span class="n">runtime</span><span class="p">,</span>
<span class="n">sagemaker</span><span class="o">-</span><span class="n">edge</span><span class="p">,</span>
<span class="n">sagemaker</span><span class="o">-</span><span class="n">featurestore</span><span class="o">-</span><span class="n">runtime</span><span class="p">,</span>
<span class="n">sagemaker</span><span class="o">-</span><span class="n">runtime</span><span class="p">,</span>
<span class="n">savingsplans</span><span class="p">,</span>
<span class="n">schemas</span><span class="p">,</span>
<span class="n">sdb</span><span class="p">,</span>
<span class="n">secretsmanager</span><span class="p">,</span>
<span class="n">securityhub</span><span class="p">,</span>
<span class="n">serverlessrepo</span><span class="p">,</span>
<span class="n">service</span><span class="o">-</span><span class="n">quotas</span><span class="p">,</span>
<span class="n">servicecatalog</span><span class="p">,</span>
<span class="n">servicecatalog</span><span class="o">-</span><span class="n">appregistry</span><span class="p">,</span>
<span class="n">servicediscovery</span><span class="p">,</span>
<span class="n">ses</span><span class="p">,</span>
<span class="n">sesv2</span><span class="p">,</span>
<span class="n">shield</span><span class="p">,</span>
<span class="n">signer</span><span class="p">,</span>
<span class="n">sms</span><span class="p">,</span>
<span class="n">sms</span><span class="o">-</span><span class="n">voice</span><span class="p">,</span>
<span class="n">snow</span><span class="o">-</span><span class="n">device</span><span class="o">-</span><span class="n">management</span><span class="p">,</span>
<span class="n">snowball</span><span class="p">,</span>
<span class="n">sns</span><span class="p">,</span>
<span class="n">sqs</span><span class="p">,</span>
<span class="n">ssm</span><span class="p">,</span>
<span class="n">ssm</span><span class="o">-</span><span class="n">contacts</span><span class="p">,</span>
<span class="n">ssm</span><span class="o">-</span><span class="n">incidents</span><span class="p">,</span>
<span class="n">sso</span><span class="p">,</span>
<span class="n">sso</span><span class="o">-</span><span class="n">admin</span><span class="p">,</span>
<span class="n">sso</span><span class="o">-</span><span class="n">oidc</span><span class="p">,</span>
<span class="n">stepfunctions</span><span class="p">,</span>
<span class="n">storagegateway</span><span class="p">,</span>
<span class="n">sts</span><span class="p">,</span>
<span class="n">support</span><span class="p">,</span>
<span class="n">swf</span><span class="p">,</span>
<span class="n">synthetics</span><span class="p">,</span>
<span class="n">textract</span><span class="p">,</span>
<span class="n">timestream</span><span class="o">-</span><span class="n">query</span><span class="p">,</span>
<span class="n">timestream</span><span class="o">-</span><span class="n">write</span><span class="p">,</span>
<span class="n">transcribe</span><span class="p">,</span>
<span class="n">transfer</span><span class="p">,</span>
<span class="n">translate</span><span class="p">,</span>
<span class="n">voice</span><span class="o">-</span><span class="nb">id</span><span class="p">,</span>
<span class="n">waf</span><span class="p">,</span>
<span class="n">waf</span><span class="o">-</span><span class="n">regional</span><span class="p">,</span>
<span class="n">wafv2</span><span class="p">,</span>
<span class="n">wellarchitected</span><span class="p">,</span>
<span class="n">wisdom</span><span class="p">,</span>
<span class="n">workdocs</span><span class="p">,</span>
<span class="n">worklink</span><span class="p">,</span>
<span class="n">workmail</span><span class="p">,</span>
<span class="n">workmailmessageflow</span><span class="p">,</span>
<span class="n">workspaces</span><span class="p">,</span>
<span class="n">workspaces</span><span class="o">-</span><span class="n">web</span><span class="p">,</span>
<span class="n">xray</span>
</code></pre></div>
<p>A curiosity...<br />
I <code>echo</code>d all the aww services' names to <code>wc -l</code> to get a count of the services.</p>
<p>See for yourself how many <code>boto3.client</code> client has,<br />
which, should give us an idea of how many services AWS has.</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;accessanalyzer, account, acm, acm-pca, alexaforbusiness, amp, amplify, amplifybackend, amplifyuibuilder, apigateway, apigatewaymanagementapi, apigatewayv2, appconfig, appconfigdata, appflow, appintegrations, application-autoscaling, application-insights, applicationcostprofiler, appmesh, apprunner, appstream, appsync, athena, auditmanager, autoscaling, autoscaling-plans, backup, backup-gateway, batch, braket, budgets, ce, chime, chime-sdk-identity, chime-sdk-meetings, chime-sdk-messaging, cloud9, cloudcontrol, clouddirectory, cloudformation, cloudfront, cloudhsm, cloudhsmv2, cloudsearch, cloudsearchdomain, cloudtrail, cloudwatch, codeartifact, codebuild, codecommit, codedeploy, codeguru-reviewer, codeguruprofiler, codepipeline, codestar, codestar-connections, codestar-notifications, cognito-identity, cognito-idp, cognito-sync, comprehend, comprehendmedical, compute-optimizer, config, connect, connect-contact-lens, connectparticipant, cur, customer-profiles, databrew, dataexchange, datapipeline, datasync, dax, detective, devicefarm, devops-guru, directconnect, discovery, dlm, dms, docdb, drs, ds, dynamodb, dynamodbstreams, ebs, ec2, ec2-instance-connect, ecr, ecr-public, ecs, efs, eks, elastic-inference, elasticache, elasticbeanstalk, elastictranscoder, elb, elbv2, emr, emr-containers, es, events, evidently, finspace, finspace-data, firehose, fis, fms, forecast, forecastquery, frauddetector, fsx, gamelift, glacier, globalaccelerator, glue, grafana, greengrass, greengrassv2, groundstation, guardduty, health, healthlake, honeycode, iam, identitystore, imagebuilder, importexport, inspector, inspector2, iot, iot-data, iot-jobs-data, iot1click-devices, iot1click-projects, iotanalytics, iotdeviceadvisor, iotevents, iotevents-data, iotfleethub, iotsecuretunneling, iotsitewise, iotthingsgraph, iottwinmaker, iotwireless, ivs, kafka, kafkaconnect, kendra, kinesis, kinesis-video-archived-media, kinesis-video-media, kinesis-video-signaling, kinesisanalytics, kinesisanalyticsv2, kinesisvideo, kms, lakeformation, lambda, lex-models, lex-runtime, lexv2-models, lexv2-runtime, license-manager, lightsail, location, logs, lookoutequipment, lookoutmetrics, lookoutvision, machinelearning, macie, macie2, managedblockchain, marketplace-catalog, marketplace-entitlement, marketplacecommerceanalytics, mediaconnect, mediaconvert, medialive, mediapackage, mediapackage-vod, mediastore, mediastore-data, mediatailor, memorydb, meteringmarketplace, mgh, mgn, migration-hub-refactor-spaces, migrationhub-config, migrationhubstrategy, mobile, mq, mturk, mwaa, neptune, network-firewall, networkmanager, nimble, opensearch, opsworks, opsworkscm, organizations, outposts, panorama, personalize, personalize-events, personalize-runtime, pi, pinpoint, pinpoint-email, pinpoint-sms-voice, polly, pricing, proton, qldb, qldb-session, quicksight, ram, rbin, rds, rds-data, redshift, redshift-data, rekognition, resiliencehub, resource-groups, resourcegroupstaggingapi, robomaker, route53, route53-recovery-cluster, route53-recovery-control-config, route53-recovery-readiness, route53domains, route53resolver, rum, s3, s3control, s3outposts, sagemaker, sagemaker-a2i-runtime, sagemaker-edge, sagemaker-featurestore-runtime, sagemaker-runtime, savingsplans, schemas, sdb, secretsmanager, securityhub, serverlessrepo, service-quotas, servicecatalog, servicecatalog-appregistry, servicediscovery, ses, sesv2, shield, signer, sms, sms-voice, snow-device-management, snowball, sns, sqs, ssm, ssm-contacts, ssm-incidents, sso, sso-admin, sso-oidc, stepfunctions, storagegateway, sts, support, swf, synthetics, textract, timestream-query, timestream-write, transcribe, transfer, translate, voice-id, waf, waf-regional, wafv2, wellarchitected, wisdom, workdocs, worklink, workmail, workmailmessageflow, workspaces, workspaces-web, xray&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="s1">&#39;\n&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l
<span class="m">299</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="o">(</span>...<span class="o">)</span><span class="w">  </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="s1">&#39;\n&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l
<span class="m">299</span>
</code></pre></div>
<p>299 AWS boto3 client or 299 AWS Services? (checked on 2022-03-24)</p>
<hr />
<h3 id="working-with-aws-boto3-client-securityhub"><a class="toclink" href="../../../../aws/security-hub/python3/aws-security-hub-work-in-python-3-and-boto3/#working-with-aws-boto3-client-securityhub">Working with aws boto3 client securityhub</a></h3>
<p>Here is an example of the second service name. The number <code>[1]</code> shows a second position in the array. <code>[0]</code> if the first position, first value.</p>
<p>input</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">boto3</span>

<span class="n">securityhub</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;securityhub&#39;</span><span class="p">)</span>

<span class="n">securityhub</span><span class="o">.</span><span class="n">describe_products</span><span class="p">()[</span><span class="s1">&#39;Products&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div>
<p>output </p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">{</span><span class="s">&#39;ProductArn&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&#39;arn:aws:securityhub:xxxxxx:xxxxxx:product/armordefense/armoranywhere&#39;</span><span class="p p-Indicator">,</span>
<span class="w"> </span><span class="s">&#39;ProductName&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&#39;Armor</span><span class="nv"> </span><span class="s">Anywhere&#39;</span><span class="p p-Indicator">,</span>
<span class="w"> </span><span class="s">&#39;CompanyName&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&#39;ARMOR&#39;</span><span class="p p-Indicator">,</span>
<span class="w"> </span><span class="s">&#39;Description&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&#39;Armor</span><span class="nv"> </span><span class="s">Anywhere</span><span class="nv"> </span><span class="s">delivers</span><span class="nv"> </span><span class="s">managed</span><span class="nv"> </span><span class="s">security</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">compliance</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">AWS.&#39;</span><span class="p p-Indicator">,</span>
<span class="w"> </span><span class="s">&#39;Categories&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;Managed</span><span class="nv"> </span><span class="s">Security</span><span class="nv"> </span><span class="s">Service</span><span class="nv"> </span><span class="s">Provider</span><span class="nv"> </span><span class="s">(MSSP)&#39;</span><span class="p p-Indicator">],</span>
<span class="w"> </span><span class="s">&#39;IntegrationTypes&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;SEND_FINDINGS_TO_SECURITY_HUB&#39;</span><span class="p p-Indicator">],</span>
<span class="w"> </span><span class="s">&#39;MarketplaceUrl&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&#39;https://aws.amazon.com/marketplace/seller-profile?id=797425f4-6823-xxxxxx&#39;</span><span class="p p-Indicator">,</span>
<span class="w"> </span><span class="s">&#39;ActivationUrl&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&#39;https://amp.armor.com/account/cloud-connections&#39;</span><span class="p p-Indicator">,</span>
<span class="w"> </span><span class="s">&#39;ProductSubscriptionResourcePolicy&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&#39;{&quot;Version&quot;:&quot;2012-10-17&quot;,&quot;Statement&quot;:[{&quot;Effect&quot;:&quot;Allow&quot;,&quot;Principal&quot;:{&quot;AWS&quot;:&quot;xxxxxx&quot;},&quot;Action&quot;:[&quot;securityhub:BatchImportFindings&quot;],&quot;Resource&quot;:&quot;arn:aws:securityhub:xxxxxx:xxxxxx:product-subscription/armordefense/armoranywhere&quot;,&quot;Condition&quot;:{&quot;StringEquals&quot;:{&quot;securityhub:TargetAccount&quot;:&quot;xxxxxx&quot;}}},{&quot;Effect&quot;:&quot;Allow&quot;,&quot;Principal&quot;:{&quot;AWS&quot;:&quot;xxxxxx&quot;},&quot;Action&quot;:[&quot;securityhub:BatchImportFindings&quot;],&quot;Resource&quot;:&quot;arn:aws:securityhub:xxxxxx:xxxxxx:product/armordefense/armoranywhere&quot;,&quot;Condition&quot;:{&quot;StringEquals&quot;:{&quot;securityhub:TargetAccount&quot;:&quot;xxxxxx&quot;}}}]}&#39;</span><span class="p p-Indicator">}</span>
</code></pre></div>
<p>Now, let's use a <code>for loop</code> to list through all services names.</p>
<p>initialising the variable <code>companies</code></p>
<p>and running a for loop to add all companies into the variable <code>companies</code></p>
<div class="highlight"><pre><span></span><code><span class="n">companies</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">CompanyName</span> <span class="ow">in</span> <span class="n">securityhub</span><span class="o">.</span><span class="n">describe_products</span><span class="p">()[</span><span class="s1">&#39;Products&#39;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">CompanyName</span><span class="p">[</span><span class="s1">&#39;CompanyName&#39;</span><span class="p">])</span>
    <span class="n">companies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">CompanyName</span><span class="p">[</span><span class="s1">&#39;CompanyName&#39;</span><span class="p">])</span>

<span class="p">(</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
<p>Then, to remove duplicate services names in the variable <code>companies</code>, we can use <code>dict.fromkeys</code> to remove duplicates.</p>
<p>```python
list(dict.fromkeys(companies))</p>
<p>['3CORESec',
 'ARMOR',
 'AWS',
 'Alert Logic',
 'Amazon',
 'Aqua Security',
 'Atlassian',
 'AttackIQ',
 'Barracuda Networks',
 'BigID',
 'Blue Hexagon',
 'Capitis',
 'Caveonix',
 'Check Point',
 'Cloud Custodian',
 'Cloud Storage Security',
 'CrowdStrike',
 'CyberArk',
 'DisruptOps, Inc.',
 'FireEye',
 'Forcepoint',
 'Fugue',
 'Guardicore',
 'HackerOne',
 'IBM']
 ```</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2022-03-14 00:00:00">Monday, March 14, 2022</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../" class="md-meta__link">aws</a>, 
              <a href="../../../cli/" class="md-meta__link">cli</a>, 
              <a href="../../../commands/" class="md-meta__link">commands</a>, 
              <a href="../../../aws-organizations/" class="md-meta__link">AWS Organizations</a></li>
        
        
          
          <li class="md-meta__item">
            
              3 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="aws-run-multiple-commands-in-multiple-aws-accounts-in-the-aws-organizations-at-the-same-time"><a class="toclink" href="../../../../aws/cli/commands/aws-run-multiple-commands-in-multiple-aws-accounts-in-the-aws-organizations-at-the-same-time/">AWS run multiple commands in multiple AWS accounts in the AWS Organizations at the same time</a></h2>
<p>AWS run multiple commands in multiple AWS accounts in the AWS Organizations at the same time</p>
<p>** USE AT YOUR OWN RESPONSABILITY **</p>
<p>I needed to run the same <a href="https://aws.amazon.com/cli/">AWS CLI</a> command in multiple accounts within an <a href="https://aws.amazon.com/organizations/">AWS Organization</a>.</p>
<p>I like code that is easy to read, does what is meant to do, is quick to run, is "safe" and efficient.</p>
<p>Might not be perfect for everyone, but it does well what I need it to do, and might be useful for others or for me again in the feature.</p>
<p>So, I built a script to do what I need in a way that can be re-used for multiple commands in multiple accounts at the same time.</p>
<p>If you have, for example <code>+100 AWS Accounts</code>, you might want to "slow down" this script.</p>
<p>for example, I sometimes use the for-loop below to "slow down" my script :)</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span>NUMBER<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>seq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">9</span><span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span>./99-run-this-command-on-this-account.sh<span class="w"> </span><span class="si">${</span><span class="nv">NUMBER</span><span class="si">}</span><span class="w"> </span><span class="p">;</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">20</span>
<span class="k">done</span>
</code></pre></div>
<h3 id="script-to-run-command-multiple-aws-account-within-the-organisation"><a class="toclink" href="../../../../aws/cli/commands/aws-run-multiple-commands-in-multiple-aws-accounts-in-the-aws-organizations-at-the-same-time/#script-to-run-command-multiple-aws-account-within-the-organisation">Script to run command multiple AWS account within the organisation</a></h3>
<div class="admonition important - you need to assume a role first that can assume roles in the other accounts">
<p class="admonition-title">Important</p>
</div>
<p><code>cat 99-run-this-command-on-this-account.txt</code></p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>


run_this_command<span class="w"> </span><span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="nv">account_id</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nv">account_name</span><span class="o">=</span><span class="nv">$2</span>
<span class="w">       </span><span class="nv">role_name</span><span class="o">=</span><span class="nv">$3</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;--------------------------------------------&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Going to run a command on </span><span class="si">${</span><span class="nv">account_id</span><span class="si">}</span><span class="s2">, </span><span class="si">${</span><span class="nv">account_name</span><span class="si">}</span><span class="s2">, using the role: </span><span class="si">${</span><span class="nv">role_name</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># assume a role in the account</span>
<span class="w">    </span><span class="nv">new_role</span><span class="o">=</span><span class="k">$(</span>aws<span class="w"> </span>sts<span class="w"> </span>assume-role<span class="w"> </span>--role-arn<span class="w"> </span><span class="s2">&quot;arn:aws:iam::</span><span class="si">${</span><span class="nv">account_id</span><span class="si">}</span><span class="s2">:role/</span><span class="si">${</span><span class="nv">role_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>--role-session-name<span class="w"> </span><span class="si">${</span><span class="nv">account_id</span><span class="si">}</span>-<span class="si">${</span><span class="nv">role_name</span><span class="si">}</span><span class="k">)</span>

<span class="w">    </span><span class="nv">AWS_ACCESS_KEY_ID</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">new_role</span><span class="si">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;.Credentials.AccessKeyId&#39;</span><span class="w"> </span><span class="k">)</span>
<span class="w">    </span><span class="nv">AWS_SECRET_ACCESS_KEY</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">new_role</span><span class="si">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;.Credentials.SecretAccessKey&#39;</span><span class="w"> </span><span class="k">)</span>
<span class="w">    </span><span class="nv">AWS_SESSION_TOKEN</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">new_role</span><span class="si">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;.Credentials.SessionToken&#39;</span><span class="w"> </span><span class="k">)</span>

<span class="w">    </span><span class="nv">ACCOUNT_ID</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">new_role</span><span class="si">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;.AssumedRoleUser.Arn&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">5</span><span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;:&#39;</span><span class="k">)</span>

<span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">AWS_ACCESS_KEY_ID</span><span class="o">=</span><span class="si">${</span><span class="nv">AWS_ACCESS_KEY_ID</span><span class="si">}</span>
<span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">AWS_SECRET_ACCESS_KEY</span><span class="o">=</span><span class="si">${</span><span class="nv">AWS_SECRET_ACCESS_KEY</span><span class="si">}</span>
<span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">AWS_SESSION_TOKEN</span><span class="o">=</span><span class="si">${</span><span class="nv">AWS_SESSION_TOKEN</span><span class="si">}</span>

<span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">ACCOUNT_ID</span><span class="o">={</span>ACCOUNT_ID<span class="o">}</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Got key_id &gt;&gt;</span><span class="si">${</span><span class="nv">AWS_ACCESS_KEY_ID</span><span class="si">}</span><span class="s2">&lt;&lt; for account_id &gt;&gt;</span><span class="si">${</span><span class="nv">account_id</span><span class="si">}</span><span class="s2">, </span><span class="si">${</span><span class="nv">account_name</span><span class="si">}</span><span class="s2">&lt;&lt; &quot;</span>

<span class="w">    </span><span class="c1">#aws s3 ls</span>

<span class="w">    </span>aws<span class="w"> </span>securityhub<span class="w"> </span>update-standards-control<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--standards-control-arn<span class="w"> </span><span class="s2">&quot;arn:aws:securityhub:eu-west-2:</span><span class="si">${</span><span class="nv">account_id</span><span class="si">}</span><span class="s2">:control/cis-aws-foundations-benchmark/v/1.2.0/1.13&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--control-status<span class="w"> </span><span class="s2">&quot;DISABLED&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--disabled-reason<span class="w"> </span><span class="s2">&quot;SCP applied at the root level for the organisation will block any root actions.&quot;</span>

<span class="w">    </span>aws<span class="w"> </span>securityhub<span class="w"> </span>update-standards-control<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--standards-control-arn<span class="w"> </span><span class="s2">&quot;arn:aws:securityhub:eu-west-2:</span><span class="si">${</span><span class="nv">account_id</span><span class="si">}</span><span class="s2">:control/cis-aws-foundations-benchmark/v/1.2.0/1.14&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--control-status<span class="w"> </span><span class="s2">&quot;DISABLED&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--disabled-reason<span class="w"> </span><span class="s2">&quot;SCP applied at the root level for the organisation will block any root actions.&quot;</span>

<span class="w">    </span>aws<span class="w"> </span>securityhub<span class="w"> </span>update-standards-control<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--standards-control-arn<span class="w"> </span><span class="s2">&quot;arn:aws:securityhub:eu-west-2:</span><span class="si">${</span><span class="nv">account_id</span><span class="si">}</span><span class="s2">:control/aws-foundational-security-best-practices/v/1.0.0/IAM.6&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--control-status<span class="w"> </span><span class="s2">&quot;DISABLED&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--disabled-reason<span class="w"> </span><span class="s2">&quot;SCP applied at the root level for the organisation will block any root actions.&quot;</span>

<span class="w">    </span><span class="c1">#for bucket in $(aws s3api list-buckets | jq &#39;.Buckets[].Name&#39; | sed s/&#39;&quot;&#39;//g) ; do</span>
<span class="w">    </span><span class="c1">#    echo &quot;${account_id}, ${account_name}, enabling PublicAccessBlockConfiguration for bucket: ${bucket}&quot; ;</span>
<span class="w">    </span><span class="c1">#    #aws s3api get-public-access-block --bucket ${MYBUCKET} | jq &#39;.PublicAccessBlockConfiguration&#39; ;</span>
<span class="w">    </span><span class="c1">#    aws s3api put-public-access-block \</span>
<span class="w">    </span><span class="c1">#          --bucket ${bucket} \</span>
<span class="w">    </span><span class="c1">#          --public-access-block-configuration &quot;BlockPublicAcls=true,IgnorePublicAcls=true,BlockPublicPolicy=true,RestrictPublicBuckets=true&quot;</span>
<span class="w">    </span><span class="c1">#done</span>

<span class="o">}</span>




<span class="nv">number</span><span class="o">=</span><span class="nv">$1</span>
<span class="nv">role_name</span><span class="o">=</span>&lt;ROLE_NAME_IN_HERE&gt;
<span class="nv">filter_name</span><span class="o">=</span><span class="s2">&quot;prod&quot;</span>

<span class="c1"># DO I NEED to filter by account name?</span>
<span class="c1">#</span>
<span class="c1"># DO I NEED a specific list of accounts?  &gt;&gt; command to list account - &#39;aws organizations list-accounts&#39;</span>
<span class="c1">#</span>
<span class="c1"># Below, sample filter to list account by creation date.</span>
<span class="c1"># cat ./results/00-list-of-accounts-in-org.txt</span>
<span class="c1"># jq -r &#39;.Accounts[] | &quot;\(.JoinedTimestamp);\(.Id);\(.Name)&quot; &#39; ./results/00-list-of-accounts-in-org.txt  | sort | grep &#39;2022-03&#39; | awk -F &#39;;&#39; &#39;{print $2 &quot;;&quot; $3}&#39;</span>
<span class="c1"># jq -r &#39;.Accounts[] | &quot;\(.JoinedTimestamp);\(.Id);\(.Name)&quot; &#39; ./results/00-list-of-accounts-in-org.txt  | sort | grep &#39;2022-03&#39; | awk -F &#39;;&#39; &#39;{print $2 &quot;;&quot; $3}&#39; &gt; work-on-this-list-of-accounts.txt</span>
<span class="c1">#</span>
<span class="c1"># pick your for-loop</span>
<span class="c1">#</span>
<span class="c1">#for account in $(jq &#39;.Accounts[] | .Id + &quot;;&quot; + .Name&#39; ./results/00-list-of-accounts-in-org.txt | tr -d &#39;&quot;&#39; | sort | grep ^${number} | grep -v ${filter_name} ); do</span>
<span class="c1">#for account in $(jq &#39;.Accounts[] | .Id + &quot;;&quot; + .Name&#39; ./results/00-list-of-accounts-in-org.txt | tr -d &#39;&quot;&#39; | sort | grep ^${number} ); do</span>
<span class="w"> </span><span class="k">for</span><span class="w"> </span>account<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>cat<span class="w"> </span>./work-on-this-list-of-acocunts.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;&quot;&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>^<span class="si">${</span><span class="nv">number</span><span class="si">}</span><span class="w"> </span><span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>

<span class="w">    </span><span class="c1">#sample account result: &quot;000123456789;my-super-aws-account-name&quot;</span>
<span class="w">    </span><span class="nv">account_id</span><span class="o">=</span><span class="k">$(</span><span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">account</span><span class="si">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-f1<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;;&#39;</span><span class="w"> </span><span class="k">)</span>
<span class="w">    </span><span class="nv">account_name</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">account</span><span class="si">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-f2<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;;&#39;</span><span class="w"> </span><span class="k">)</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Getting ready to run a command on this account : </span><span class="si">${</span><span class="nv">account_id</span><span class="si">}</span><span class="s2">; </span><span class="si">${</span><span class="nv">account_name</span><span class="si">}</span>
<span class="s2">        &quot;</span>
<span class="w">    </span>run_this_command<span class="w"> </span><span class="si">${</span><span class="nv">account_id</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">account_name</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">role_name</span><span class="si">}</span><span class="w"> </span><span class="p">&amp;</span>

<span class="k">done</span>
</code></pre></div>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2022-02-24 00:00:00">Thursday, February 24, 2022</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../" class="md-meta__link">aws</a>, 
              <a href="../../../ssm/" class="md-meta__link">SSM</a>, 
              <a href="../../../networking/" class="md-meta__link">networking</a>, 
              <a href="../../../tunnel/" class="md-meta__link">Tunnel</a>, 
              <a href="../../../security/" class="md-meta__link">Security</a></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="aws-systems-manager-or-aws-ssm-to-create-a-private-networking-tunnel-to-resources-in-the-private-subnet"><a class="toclink" href="../../../../aws/ssm/networking/aws-systems-manager-or-aws-ssm-to-create-a-private-networking-tunnel-to-resources-in-the-private-subnet/">AWS Systems Manager or AWS SSM to create a private Networking tunnel to resources in the private subnet</a></h2>
<p>AWS Systems Manager or AWS SSM to create a private Networking tunnel to resources in the private subnet</p>
<p><strong>Pre-requisit</strong></p>
<p>you need the AWS SSM agent installed on your laptop/desktop - documentation here <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/ssm-agent.html">https://docs.aws.amazon.com/systems-manager/latest/userguide/ssm-agent.html</a></p>
<h3 id="aws-ssm-create-a-tunnel-to-linux-instance-in-an-aws-private-subnet"><a class="toclink" href="../../../../aws/ssm/networking/aws-systems-manager-or-aws-ssm-to-create-a-private-networking-tunnel-to-resources-in-the-private-subnet/#aws-ssm-create-a-tunnel-to-linux-instance-in-an-aws-private-subnet">AWS SSM create a tunnel to Linux instance in an AWS private subnet</a></h3>
<p>1) Assume a role in the account</p>
<p>2) Get the instance ID you want to tunnel to</p>
<p>3) Start a session with AWS SSM agent</p>
<p>Sample commands for creating a tunnel to the instance on port 3389 and my PC/laptop localhost on port 5222</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Using a variable, so easier to reuse the command</span>

<span class="nv">instance_id</span><span class="o">=</span><span class="s2">&quot;i-Xxxxxx&quot;</span>


<span class="c1"># Sample command for creating a tunnel to the instance on port 22 and my PC/laptop localhost on port 5222</span>

aws<span class="w"> </span>ssm<span class="w"> </span>start-session<span class="w"> </span>--target<span class="w"> </span><span class="si">${</span><span class="nv">instance_id</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--document-name<span class="w"> </span>AWS-StartPortForwardingSession<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--parameters<span class="w"> </span><span class="nv">portNumber</span><span class="o">=</span><span class="s2">&quot;22&quot;</span>,localPortNumber<span class="o">=</span><span class="s2">&quot;5222&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--region<span class="w"> </span>eu-west-2
</code></pre></div>
<p>After creating the tunnel to the instance, you still need a valid ssh key to <code>ssh</code> into the ec2 instance.</p>
<p>Via the SSM in the console, you could add your public key to the <code>authorized-keys</code> - where is another website explaning that <a href="https://www.ssh.com/academy/ssh/authorized-keys-file">https://www.ssh.com/academy/ssh/authorized-keys-file</a></p>
<hr />
<h3 id="example-using-aws-ssm-to-create-a-private-networking-tunnel-to-use-as-remote-desktop-into-a-windows-instance-in-a-private-subnet"><a class="toclink" href="../../../../aws/ssm/networking/aws-systems-manager-or-aws-ssm-to-create-a-private-networking-tunnel-to-resources-in-the-private-subnet/#example-using-aws-ssm-to-create-a-private-networking-tunnel-to-use-as-remote-desktop-into-a-windows-instance-in-a-private-subnet">Example using AWS SSM to create a private networking tunnel to use as remote desktop into a Windows instance in a private subnet</a></h3>
<p>Sample command for creating a tunnel to the instance on port 3389 and my PC/laptop localhost on port 5222</p>
<p>Same step above 1) and 2)</p>
<p>3) Create the tunnel with the RDP port as a destination portNumber</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Using a variable, so easier to reuse the command</span>

<span class="nv">instance_id</span><span class="o">=</span><span class="s2">&quot;i-Xxxxxx&quot;</span>


<span class="c1"># Sample command for creating a tunnel to the instance on port 22 and my PC/laptop localhost on port 5222</span>

aws<span class="w"> </span>ssm<span class="w"> </span>start-session<span class="w"> </span>--target<span class="w"> </span><span class="si">${</span><span class="nv">instance_id</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--document-name<span class="w"> </span>AWS-StartPortForwardingSession<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--parameters<span class="w"> </span><span class="nv">portNumber</span><span class="o">=</span><span class="s2">&quot;3389&quot;</span>,localPortNumber<span class="o">=</span><span class="s2">&quot;5222&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--region<span class="w"> </span>eu-west-2
</code></pre></div>
<p>Now, using your favourity remote destop application, you can RDP to <code>localhost:5222</code> which will be tunneled into the Windows instance in the private subnet on port 3389.</p>
<hr />
<h3 id="additional-documentation"><a class="toclink" href="../../../../aws/ssm/networking/aws-systems-manager-or-aws-ssm-to-create-a-private-networking-tunnel-to-resources-in-the-private-subnet/#additional-documentation">Additional documentation</a></h3>
<ul>
<li>"Port Forwarding Using AWS System Manager Session Manager"</li>
</ul>
<p><a href="https://aws.amazon.com/blogs/aws/new-port-forwarding-using-aws-system-manager-sessions-manager/">https://aws.amazon.com/blogs/aws/new-port-forwarding-using-aws-system-manager-sessions-manager/</a></p>
<ul>
<li>"... Tunnel through AWS Systems Manager to access my private VPC resources"</li>
</ul>
<p><a href="https://aws.amazon.com/premiumsupport/knowledge-center/systems-manager-ssh-vpc-resources/">https://aws.amazon.com/premiumsupport/knowledge-center/systems-manager-ssh-vpc-resources/</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2021-12-15 00:00:00">Wednesday, December 15, 2021</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../" class="md-meta__link">aws</a>, 
              <a href="../../../javascript/" class="md-meta__link">Javascript</a></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="aws-pages-with-dark-theme-feature"><a class="toclink" href="../../../../aws/javascript/aws-pages-with-dark-theme-feature/">AWS pages with dark-theme feature</a></h2>
<p>Have you tried the AWS dark theme feature with cookie named <code>awsc-color-theme</code>?</p>
<p>Still a work in progress from AWS but looks pretty good already, and if you prefer darker pages, I think you will like this tip.</p>
<p>To try this feature, on your browser do the following:</p>
<p>Open the browser <strong>Developer-Tools</strong> <em>(right-click then Inspect, or F12 or fn+F12 for MacOS)</em>,<br />
go to <strong>Application</strong>, then <strong>Storage</strong>, then <strong>Cookies</strong>, choose the available cookie.</p>
<p>At the end of the list that open, double click after the last row to create a new cookie entry.</p>
<p>In this new cookie entry</p>
<p>add the "Name" as <code>awsc-color-theme</code> &larr; !! "awsc-", not just "aws-"</p>
<p>add "Value" as <code>dark</code>,</p>
<p>and finally "Path" as <code>.amazon.com</code></p>
<p>Then refresh the page.</p>
<hr />
<h3 id="creating-the-awsc-color-theme-cookie-entry"><a class="toclink" href="../../../../aws/javascript/aws-pages-with-dark-theme-feature/#creating-the-awsc-color-theme-cookie-entry">creating the awsc-color-theme cookie entry</a></h3>
<p><code>awsc-color-theme</code>, <code>dark</code>, <code>.amazon.com</code></p>
<p><img alt="00-awsc-color-theme-cookies.png" src="/assets/images/00-awsc-color-theme-cookies.png" /></p>
<hr />
<h3 id="before-the-awsc-color-theme-cookie-entry"><a class="toclink" href="../../../../aws/javascript/aws-pages-with-dark-theme-feature/#before-the-awsc-color-theme-cookie-entry">before the awsc-color-theme cookie entry</a></h3>
<p><img alt="01-awsc-color-theme-s3-light.png" src="/assets/images/01-awsc-color-theme-s3-light.png" /></p>
<hr />
<h3 id="after-the-awsc-color-theme-cookie-entry"><a class="toclink" href="../../../../aws/javascript/aws-pages-with-dark-theme-feature/#after-the-awsc-color-theme-cookie-entry">after the awsc-color-theme cookie entry</a></h3>
<p><img alt="02-awsc-color-theme-s3-dark.png" src="/assets/images/02-awsc-color-theme-s3-dark.png" /></p>
<hr />
<h3 id="credits"><a class="toclink" href="../../../../aws/javascript/aws-pages-with-dark-theme-feature/#credits">Credits</a></h3>
<p>First I found about this feature was from <a href="https://twitter.com/barney_parker">barney_parker</a>,</p>
<p>then found it in here <a href="https://twitter.com/rpadovani93/status/1419583500290859008">https://twitter.com/rpadovani93/status/1419583500290859008</a></p>
<hr />
<p>Happy learning!</p>
<p><a href="https://antonio.cloud">Antonio Feijao UK</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-04-21 00:00:00">Tuesday, April 21, 2020</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../" class="md-meta__link">aws</a>, 
              <a href="../../../linux/" class="md-meta__link">linux</a>, 
              <a href="../../../bash/" class="md-meta__link">Bash</a></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="aws-ec2-userdata-sample-script-to-build-an-webpage"><a class="toclink" href="../../../../aws/linux/bash/aws-ec2-userdata-sample-script-to-build-an-webpage/">AWS EC2 userdata sample script to build an Webpage</a></h2>
<p>Sample of an AWS EC2 <code>userdata</code> script that installs <code>apache</code> and automatically creates an <code>index.html</code> file as a landing webpage with information about the instance - <code>instanceId</code>, <code>availabilityZone</code>, <code>instanceType</code> and <code>region</code>. This could also be used with <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/LaunchConfiguration.html">launch configuration</a> on an <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/AutoScalingGroup.html">Auto Scaling Group</a> (<code>ASG</code>) to use as multiple instances on <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-register-lbs-with-asg.html">Elastic Load Balancing load balancer</a> (<code>ALB</code>) to easy show the usage of multiple instances behind the load balancer.</p>
<p>At your own risk, always review what you are running.</p>
<p>To run this userdata script, add the below into the EC2 userdata</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
curl<span class="w"> </span>https://raw.githubusercontent.com/AntonioFeijaoUK/aws-ec2-userdata-samples/master/sample01-hello-world-region-az.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
</code></pre></div>
<p>Repository is here <a href="https://github.com/AntonioFeijaoUK/aws-ec2-userdata-samples">https://github.com/AntonioFeijaoUK/aws-ec2-userdata-samples</a></p>
<p>Direct link is here <a href="https://raw.githubusercontent.com/AntonioFeijaoUK/aws-ec2-userdata-samples/master/sample01-hello-world-region-az.sh">https://raw.githubusercontent.com/AntonioFeijaoUK/aws-ec2-userdata-samples/master/sample01-hello-world-region-az.sh</a></p>
<p>Other samples on <a href="https://aws.amazon.com">AWS</a></p>
<ul>
<li>
<p>Sample EC2 with webserver - <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html">https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html</a></p>
</li>
<li>
<p>SAmple EC2 metadata - <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-identity-documents.html">https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-identity-documents.html</a></p>
</li>
</ul>
<p>If you tried it and helped you understand better how it works, please leave a comment.</p>
<hr />
<p>Happy learning</p>
<p><a href="https://www.antoniofeijao.com/">Antonio Feijao UK</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-01-14 00:00:00">Tuesday, January 14, 2020</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../../training/" class="md-meta__link">Training</a>, 
              <a href="../../" class="md-meta__link">aws</a>, 
              <a href="../../../containers/" class="md-meta__link">Containers</a></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="docker-images-and-containers-start-with-basic-and-bonus-advanced-security"><a class="toclink" href="../../../../training/aws/containers/docker-images-and-containers-start-with-basic-and-bonus-advanced-security/">docker-images-and-containers-start-with-basic-and-bonus-advanced-security</a></h2>
<p>Docker images and containers start with basic and bonus advanced security <img alt="Docker logo" src="https://www.docker.com/sites/default/files/d8/2019-07/vertical-logo-monochromatic.png" /></p>
<h3 id="sample-basic-command-for-docker-containers-and-images"><a class="toclink" href="../../../../training/aws/containers/docker-images-and-containers-start-with-basic-and-bonus-advanced-security/#sample-basic-command-for-docker-containers-and-images">Sample basic command for Docker containers and images</a></h3>
<p><code>docker --help</code> - list the help options for <code>docker</code> command</p>
<p><code>docker run --help</code> - list the help option for <code>docker run</code> command</p>
<p><code>docker images</code> - list your local docker images</p>
<p><code>docker ps</code> - list local running docker containers</p>
<p><code>docker ps -a</code> - list local running OR stopped docker containers</p>
<p><code>docker rm f66ae9b25d96</code> - remove docker container with ID f66ae9b25d96</p>
<p><code>docker run --rm centos:7 tail -f /dev/null</code> - runs a docker container from image <code>centos:7</code>, keeps container running with <code>tail -f /dev/null</code> command</p>
<p><code>docker exec -it 513ee56fde09 /bin/sh</code> - interactive shell on the container that is running</p>
<p><code>docker exec -it -u root 8891619cbcf0 /bin/sh</code> - interactive shell with sudo privileges (NOT RECOMMENDED, security risk)</p>
<p><code>docker kill 513ee56fde09</code> - kill (stops) the docker container that was running</p>
<p><code>docker run ubuntu</code> - runs a docker container with version ubuntu. It will download the docker image <code>ubuntu:latest</code> from <a href="https://hub.docker.com/">docker-hub</a> if it does not find it locally in the machine.</p>
<p><code>docker pull amazonlinux</code> - updates the local docker images named `</p>
<p><code>docker commit 3808b8454239 centos-suresh:v01</code> - save current container with a image, which you can run more containers after</p>
<p>(...)</p>
<hr />
<h3 id="bonus-advanced-security-with-docker-containers-and-images"><a class="toclink" href="../../../../training/aws/containers/docker-images-and-containers-start-with-basic-and-bonus-advanced-security/#bonus-advanced-security-with-docker-containers-and-images">Bonus advanced security with Docker containers and images</a></h3>
<ul>
<li>
<p><a href="https://youtu.be/ltrV-Qmh3oY">Keynote: Running with Scissors - Liz Rice, Technology Evangelist, Aqua Security</a></p>
</li>
<li>
<p>More to come</p>
</li>
</ul>
<p><code>chroot</code></p>
<p><code>unshared</code></p>
<p><code>....</code></p>
<hr />
<p>Happy learning</p>
<p><a href="https://antonio.cloud">Antonio Feijao UK</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-11-25 00:00:00">Monday, November 25, 2019</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../" class="md-meta__link">aws</a>, 
              <a href="../../../security/" class="md-meta__link">Security</a></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="devsecops-in-your-company-dna"><a class="toclink" href="../../../../aws/security/devsecops-in-your-company-dna/">devsecops-in-your-company-dna</a></h2>
<p>DecSecOps in your company DNA <img alt="devsecops-in-your-company-dna" src="/assets/images/devsecops-in-your-company-dna.png" /></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-08-08 00:00:00">Thursday, August 8, 2019</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../" class="md-meta__link">aws</a>, 
              <a href="../../../linux/" class="md-meta__link">linux</a>, 
              <a href="../../../security/" class="md-meta__link">Security</a></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="aws-cloudwatch-logs-cloudtrail-logs-filters-sample"><a class="toclink" href="../../../../aws/linux/security/aws-cloudwatch-logs-cloudtrail-logs-filters-sample/">aws-cloudwatch-logs-cloudtrail-logs-filters-sample</a></h2>
<p>AWS VPC flowlogs CloudWatch logs CloudTrail logs and filters examples</p>
<p>Official Documentations - <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html">https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html</a></p>
<hr />
<h3 id="basic-sample-vpc-flow-logs"><a class="toclink" href="../../../../aws/linux/security/aws-cloudwatch-logs-cloudtrail-logs-filters-sample/#basic-sample-vpc-flow-logs">Basic sample VPC-flow-logs</a></h3>
<p><code>[version, account, eni, source, destination, srcport, destport="8000", protocol, packets, bytes, windowstart, windowend, action, flowlogstatus]</code></p>
<hr />
<h3 id="vpc-flow-logs-example-with-combination-of-and"><a class="toclink" href="../../../../aws/linux/security/aws-cloudwatch-logs-cloudtrail-logs-filters-sample/#vpc-flow-logs-example-with-combination-of-and">VPC flow logs example with combination of AND</a></h3>
<p><code>[version, account, eni, source="185.2*", destination, (srcport!="80" &amp;&amp; srcport!="443"), (destport!="80" &amp;&amp; destport!="443"), protocol, packets, bytes, windowstart, windowend, action, flowlogstatus]</code></p>
<hr />
<h3 id="basic-expressions-operators"><a class="toclink" href="../../../../aws/linux/security/aws-cloudwatch-logs-cloudtrail-logs-filters-sample/#basic-expressions-operators">Basic Expressions Operators</a></h3>
<p><code>=</code>     -- EQUAL</p>
<p><code>!=</code>    -- NOT EQUAL</p>
<p><code>&lt;</code>     -- SMALL THAN</p>
<p><code>&gt;</code>     -- GRATER THEN</p>
<p><code>&lt;=</code>    -- SMALL OR EQUAL</p>
<p><code>&gt;=</code>    -- GRATER OR EQUAL</p>
<p><code>&amp;&amp;</code>    -- AND</p>
<p><code>||</code>    -- OR</p>
<hr />
<h3 id="cloud-trail-logs-filter-examples"><a class="toclink" href="../../../../aws/linux/security/aws-cloudwatch-logs-cloudtrail-logs-filters-sample/#cloud-trail-logs-filter-examples">Cloud Trail Logs Filter examples</a></h3>
<ul>
<li>filter by Failure Console Logins  'ConsoleLogin="Failure"'</li>
</ul>
<p><code>{ $.eventSource = "signin.amazonaws.com" &amp;&amp; $.responseElements.ConsoleLogin = "Failure" }</code></p>
<ul>
<li>exclude know IP address</li>
</ul>
<p><code>{ ($.sourceIPAddress != "52.123.123.5") &amp;&amp; ($.sourceIPAddress != "33.123.123.*") &amp;&amp; ($.sourceIPAddress != "*.amazonaws.com") }</code></p>
<ul>
<li>AWS login without using MFA</li>
</ul>
<p><code>{ $.eventSource="signin.amazonaws.com" &amp;&amp; $.additionalEventData.MFAUsed="No" }</code></p>
<hr />
<p>Happy learning</p>
<p><a href="https://www.antoniofeijao.com/">Antonio Feijao UK</a></p>
    
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  <a class="md-pagination__link" href="../../">1</a> <span class="md-pagination__current">2</span> <a class="md-pagination__link" href="../3/">3</a>
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024, <a href="https://www.antoniofeijao.com/">Antonio Feijao UK</a>. All rights reserved.
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.antoniofeijao.com/" target="_blank" rel="noopener" title="www.antoniofeijao.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1v16.2c0 22.1-17.9 40-40 40h-16c-1.1 0-2.2 0-3.3-.1-1.4.1-2.8.1-4.2.1L416 512h-24c-22.1 0-40-17.9-40-40v-88c0-17.7-14.3-32-32-32h-64c-17.7 0-32 14.3-32 32v88c0 22.1-17.9 40-40 40h-55.9c-1.5 0-3-.1-4.5-.2-1.2.1-2.4.2-3.6.2h-16c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9.1-2.8v-69.7h-32c-18 0-32-14-32-32.1 0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7l255.4 224.5c8 7 12 15 11 24"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/antoniofeijaouk" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/AntonioFeijaoUK" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tracking", "content.code.annotate", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.indexes", "navigation.top", "toc.follow", "toc.integrate"], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>